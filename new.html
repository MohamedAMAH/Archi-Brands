<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archi-Brands</title>
    <link rel="shortcut icon" href="images/ab-try-logo.png" type="image/png" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="css/navbar-carousel.css" rel="stylesheet" />
    <link href="css/footer.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    
    <!-- Slick Carousel CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"/>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
    
    <!-- Fancybox -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css"/>

    <style>
        .wider-container {
            width: 88%;
            margin-right: auto;
            margin-left: auto;
        }

        .full-section {
            background-color: #f8f9fa;
            width: 100%;
            padding-top: 50px;
            padding-bottom: 50px;
        }

        .projects-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .projects-heading {
            text-align: center;
            font-family: 'Archi';
            margin-bottom: 0.5rem;
            color: #5f5e61;
            font-weight: lighter;
            letter-spacing: 1px;
        }

        .slider-container {
            width: 40%;
            margin: 50px auto;
            position: relative;
        }

        .circle-slide {
            padding: 0 !important;
            margin: 0 !important;
        }

        /* Remove Slick's default spacing */
        .slick-slide {
            margin: 0 !important;
            padding: 0 !important;
        }

        .slick-list {
            margin: 0 !important;
            padding: 0 !important;
        }

        .circle-wrapper {
            width: 200px;
            height: 200px;
            margin: 0 auto;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            transition: filter 0.3s ease;
        }

        .circle-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
        }

        .circle-wrapper .dark-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(128, 128, 128, 0);
            transition: background-color 0.3s ease;
            z-index: 1;
        }

        .circle-wrapper:hover .dark-overlay {
            background: rgba(255, 255, 255, 0.5);
        }

        .slick-prev,
        .slick-next {
            width: auto;
            height: auto;
            font-size: 24px;
            color: #7a7a7a;
            z-index: 1;
            cursor: pointer;
            background: none;
            border: none;
            outline: none;
        }

        .slick-prev {
            left: -40px;
        }

        .slick-next {
            right: -40px;
        }

        .slick-prev:before,
        .slick-next:before {
            display: none;
        }

        .slick-prev i,
        .slick-next i {
            color: #7a7a7a;
        }

        .slick-slide {
            margin: 0;
        }

        .circular-slider {
            margin: 0 -10px;
        }
    </style>
</head>
<body>
    <div class="full-section">
        <div class="projects-container">
            <h1 class="text-center mb-2 projects-heading">TRANSFORMED WORKSPACES</h1>
            <p class="text-center mb-5" style="color: #7a7a7a; font-size: 1rem;">Discover our latest creations that seamlessly blend imaginative design with practical purpose</p>
        </div>

        <div class="slider-container">
        <div class="circular-slider">
            <div class="circle-slide">
                <div class="circle-wrapper">
                    <a href="images/Project/AlFuttaim/0.jpg" data-fancybox="alfuttaim-gallery">
                        <img src="images/Project/AlFuttaim/0.jpg" alt="AlFuttaim">
                        <div class="dark-overlay"></div>
                    </a>
                    <div style="display: none">
                        <a href="images/Project/AlFuttaim/1.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/2.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/3.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/4.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/5.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/6.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/7.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/8.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/9.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/10.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/11.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/12.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/13.jpg" data-fancybox="alfuttaim-gallery"></a>
                        <a href="images/Project/AlFuttaim/14.jpg" data-fancybox="alfuttaim-gallery"></a>
                    </div>
                </div>
            </div>
            <div class="circle-slide">
                <div class="circle-wrapper">
                    <a href="images/Project/Amazon/0.jpg" data-fancybox="amazon-gallery">
                        <img src="images/Project/Amazon/0.jpg" alt="Amazon">
                        <div class="dark-overlay"></div>
                    </a>
                    <div style="display: none">
                        <a href="images/Project/Amazon/1.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/2.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/3.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/4.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/5.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/6.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/7.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/8.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/9.jpg" data-fancybox="amazon-gallery"></a>
                        <a href="images/Project/Amazon/10.jpg" data-fancybox="amazon-gallery"></a>
                    </div>
                </div>
            </div>
            <div class="circle-slide">
                <div class="circle-wrapper">
                    <a href="images/Project/MSD/0.jpg" data-fancybox="msd-gallery">
                        <img src="images/Project/MSD/0.jpg" alt="MSD">
                        <div class="dark-overlay"></div>
                    </a>
                    <div style="display: none">
                        <a href="images/Project/MSD/1.jpg" data-fancybox="msd-gallery"></a>
                        <a href="images/Project/MSD/2.jpg" data-fancybox="msd-gallery"></a>
                        <a href="images/Project/MSD/3.jpg" data-fancybox="msd-gallery"></a>
                    </div>
                </div>
            </div>
            <div class="circle-slide">
                <div class="circle-wrapper">
                    <a href="images/Project/Deloitte/0.jpg" data-fancybox="deloitte-gallery">
                        <img src="images/Project/Deloitte/0.jpg" alt="Deloitte">
                        <div class="dark-overlay"></div>
                    </a>
                    <div style="display: none">
                        <a href="images/Project/Deloitte/1.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/2.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/3.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/4.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/5.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/6.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/7.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/8.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/9.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/10.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/11.jpg" data-fancybox="deloitte-gallery"></a>
                        <a href="images/Project/Deloitte/12.jpg" data-fancybox="deloitte-gallery"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts section -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>

    <script>
        $(document).ready(function(){
            const $slider = $('.circular-slider').slick({
                slidesToShow: 3,
                slidesToScroll: 1,
                arrows: true,
                dots: false,
                infinite: true,
                centerMode: true,
                centerPadding: '0',
                cssEase: 'linear',
                draggable: false,
                swipe: false,
                touchMove: false,
                prevArrow: '<button class="slick-prev"><i class="fas fa-chevron-left"></i></button>',
                nextArrow: '<button class="slick-next"><i class="fas fa-chevron-right"></i></button>',
                responsive: [
                    {
                        breakpoint: 1400,
                        settings: {
                            slidesToShow: 2
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1
                        }
                    }
                ]
            });

            // Wait for all images to load before applying the offset
            $(window).on('load', function() {
                setTimeout(() => {
                    const slideWidth = $slider.find('.slick-slide').outerWidth(true);
                    const $track = $slider.find('.slick-track');
                    $track.css('transform', `translateX(-${slideWidth / 2}px)`);
                }, 10);
            });

            let animationFrame;
            let lastTimestamp = 0;
            const SPEED = 0.15;

            function scroll(direction, timestamp) {
                if (!lastTimestamp) lastTimestamp = timestamp;
                const deltaTime = Math.min(timestamp - lastTimestamp, 16);
                lastTimestamp = timestamp;

                const $track = $slider.find('.slick-track');
                const currentTransform = $track.css('transform');
                const matrix = currentTransform.match(/matrix\((.+)\)/);
                const translateX = matrix ? parseFloat(matrix[1].split(',')[4]) : 0;

                const pixelsToMove = SPEED * deltaTime;
                const newTranslateX = direction === 'right' ? 
                    translateX - pixelsToMove : 
                    translateX + pixelsToMove;

                $track.css('transform', `translateX(${newTranslateX}px)`);

                const trackWidth = $track.width();
                const containerWidth = $slider.width();

                if (Math.abs(newTranslateX) >= trackWidth - containerWidth && direction === 'right') {
                    $track.css('transform', 'translateX(0px)');
                    lastTimestamp = 0;
                } else if (newTranslateX >= 0 && direction === 'left') {
                    $track.css('transform', `translateX(-${trackWidth - containerWidth}px)`);
                    lastTimestamp = 0;
                }

                animationFrame = requestAnimationFrame((newTimestamp) => 
                    scroll(direction, newTimestamp)
                );
            }

            $('.slick-next').hover(
                function() {
                    lastTimestamp = 0;
                    animationFrame = requestAnimationFrame((timestamp) => 
                        scroll('right', timestamp)
                    );
                },
                function() {
                    cancelAnimationFrame(animationFrame);
                    lastTimestamp = 0;
                }
            );

            $('.slick-prev').hover(
                function() {
                    lastTimestamp = 0;
                    animationFrame = requestAnimationFrame((timestamp) => 
                        scroll('left', timestamp)
                    );
                },
                function() {
                    cancelAnimationFrame(animationFrame);
                    lastTimestamp = 0;
                }
            );
        });

        Fancybox.bind("[data-fancybox]", {
            Images: {
                protect: true,
                zoom: false
            },
            Toolbar: {
                display: {
                    left: [],
                    middle: [],
                    right: ['fullscreen', 'close']
                }
            },
            Thumbs: {
                showOnStart: false,
                type: null
            },
            contentClick: false,
            contentDblClick: false,
            dragToClose: false,
            Image: { 
                cursor: "pointer",
                loading: "lazy"
            },
            Carousel: {
                preload: 0
            },
            showLoading: true,
            l10n: {
                LOADING: "Loading..."
            }
        });
    </script>
</body>
</html>